# 附錄 E - 命令列上的 AI 智能體

## 簡介

開發者的命令列，長期以來一直是精確、命令式指令的堡壘，正在經歷深刻的轉變。它正從簡單的 shell 演進為由新一類工具驅動的智慧、協作工作空間：AI 智能體命令列介面 (CLI)。這些智能體超越了僅僅執行命令；它們理解自然語言，維護關於你整個程式碼庫的脈絡，並可以執行複雜、多步驟的任務，自動化開發生命週期的重要部分。

本指南深入介紹這個新興領域的四個領先者，探討它們獨特的優勢、理想使用案例和不同的理念，以幫助你確定哪個工具最適合你的工作流程。重要的是要注意，為特定工具提供的許多範例使用案例往往也可以由其他智能體完成。這些工具之間的關鍵區別往往在於它們能夠為給定任務實現的結果品質、效率和細微差別。有特定的基準測試設計來衡量這些能力，這將在以下章節中討論。

## Claude CLI (Claude Code)

Anthropic 的 Claude CLI 被設計為一個高階編碼智能體，對專案架構有深入、整體的理解。其核心優勢是其「智能體」特性，允許它為複雜、多步驟任務建立你的儲存庫心智模型。互動是高度對話式的，類似於結對程式設計會話，它在執行前解釋其計劃。這使其成為從事涉及重大重構或實施具有廣泛架構影響功能的大型專案的專業開發者的理想選擇。

**範例使用案例：**

1. **大型重構：** 你可以指示它：「我們當前的用戶身份驗證依賴會話 cookie。重構整個程式碼庫以使用無狀態 JWT，更新登入/登出端點、中間件和前端 Token 處理。」Claude 然後會讀取所有相關檔案並執行協調的變更。
2. **API 整合：** 在提供新天氣服務的 OpenAPI 規格後，你可以說：「整合這個新的天氣 API。建立一個服務模組來處理 API 呼叫，添加一個新組件來顯示天氣，並更新主儀表板以包含它。」
3. **文件生成**：指向一個有著糟糕文件記錄程式碼的複雜模組，你可以問：「分析 `./src/utils/data_processing.js` 檔案。為每個函數生成全面的 TSDoc 註解，解釋其目的、參數和回傳值。」

Claude CLI 作為專門的編碼助手運作，具有核心開發任務的內建工具，包括檔案攝取、程式碼結構分析和編輯生成。其與 Git 的深度整合促進了直接的分支和提交管理。智能體的可擴展性由多工具控制協定 (MCP) 調節，使用戶能夠定義和整合自訂工具。這允許與私有 API 互動、資料庫查詢和執行專案特定的腳本。這種架構將開發者定位為智能體功能範圍的仲裁者，有效地將 Claude 特徵化為由用戶定義工具增強的推理引擎。

## Gemini CLI

Google 的 Gemini CLI 是一個多功能、開源的 AI 智能體，專為強大和易於存取而設計。它以進階的 Gemini 2.5 Pro 模型、巨大的脈絡視窗和多模態能力 (處理圖片和文字) 脫穎而出。其開源特性、慷慨的免費層級和「推理與行動」迴圈使其成為透明、可控且出色的全能者，適合廣泛受眾，從愛好者到企業開發者，特別是那些在 Google Cloud 生態系統內的人。

**範例使用案例：**

1. **多模態開發：** 你提供設計檔案中網路組件的螢幕截圖 (gemini describe component.png) 並指示它：「撰寫 HTML 和 CSS 程式碼來建立一個看起來完全像這樣的 React 組件。確保它是響應式的。」
2. **雲端資源管理：** 使用其內建的 Google Cloud 整合，你可以命令：「在生產專案中尋找所有執行版本早於 1.28 的 GKE 叢集，並生成 gcloud 命令來逐一升級它們。」
3. **企業工具整合 (透過 MCP)：** 開發者為 Gemini 提供名為 get-employee-details 的自訂工具，該工具連接到公司的內部 HR API。提示是：「為我們的新員工起草歡迎文件。首先，使用 get-employee-details --id=E90210 工具獲取他們的姓名和團隊，然後用該資訊填充 welcome_template.md。」
4. **大型重構**：開發者需要重構大型 Java 程式碼庫，將已棄用的日誌記錄函式庫替換為新的結構化日誌記錄框架。他們可以使用 Gemini 並提示：讀取 'src/main/java' 目錄中的所有 *.java 檔案。對於每個檔案，將所有 'org.apache.log4j' 匯入及其 'Logger' 類別實例替換為 'org.slf4j.Logger' 和 'LoggerFactory'。重寫 logger 實例化和所有 .info()、.debug() 和 .error() 呼叫以使用具有鍵值對的新結構化格式。

Gemini CLI 配備了一套內建工具，允許它與其環境互動。這些包括檔案系統操作工具 (如讀取和寫入)、用於執行命令的 shell 工具，以及通過網路獲取和搜尋存取網際網路的工具。為了更廣泛的脈絡，它使用專門的工具來一次讀取多個檔案，以及一個記憶體工具來保存資訊供後續會話使用。這個功能建立在安全基礎上：沙盒隔離模型的行動以防止風險，而 MCP 伺服器作為橋樑，使 Gemini 能夠安全地連接到你的本地環境或其他 API。

## Aider

Aider 是一個開源 AI 編碼助手，通過直接在你的檔案上工作並將變更提交到 Git 來充當真正的結對程式設計師。其定義特徵是其直接性；它應用編輯，執行測試來驗證它們，並自動提交每個成功的變更。作為模型無關的，它給用戶對成本和能力的完全控制。其以 git 為中心的工作流程使其對重視效率、控制和所有程式碼修改的透明、可審計軌跡的開發者來說是完美的。

**範例使用案例：**

1. **測試驅動開發 (TDD)：** 開發者可以說：「為計算數字階乘的函數建立一個失敗的測試。」在 Aider 寫測試並失敗後，下一個提示是：「現在，寫程式碼讓測試通過。」Aider 實施函數並再次執行測試以確認。
2. **精確錯誤修復：** 給定錯誤報告，你可以指示 Aider：「billing.py 中的 `calculate_total` 函數在閏年失敗。將檔案添加到脈絡中，修復錯誤，並對照現有測試套件驗證你的修復。」
3. **依賴性更新：** 你可以指示它：「我們的專案使用過時版本的 'requests' 函式庫。請瀏覽所有 Python 檔案，更新匯入語句和任何已棄用的函數呼叫以與最新版本相容，然後更新 requirements.txt。」

## GitHub Copilot CLI

GitHub Copilot CLI 將流行的 AI 結對程式設計師擴展到終端，其主要優勢是與 GitHub 生態系統的原生、深度整合。它理解專案在 GitHub 「內部」的脈絡。其智能體能力允許它被分配 GitHub 問題，處理修復，並提交拉取請求供人工審查。

**範例使用案例：**

1. **自動問題解決：** 經理將錯誤工單 (例如，「問題 #123：修復分頁中的差一錯誤」) 分配給 Copilot 智能體。智能體然後檢出新分支，寫程式碼，並提交引用該問題的拉取請求，所有這些都無需手動開發者干預。
2. **儲存庫感知問答：** 團隊中的新開發者可以問：「在這個儲存庫中，資料庫連接邏輯定義在哪裡，它需要什麼環境變數？」Copilot CLI 使用其對整個儲存庫的感知來提供帶有檔案路徑的精確答案。
3. **Shell 命令幫手：** 當不確定複雜的 shell 命令時，用戶可以問：gh? 尋找所有大於 50MB 的檔案，壓縮它們，並將它們放在存檔資料夾中。Copilot 將生成執行任務所需的確切 shell 命令。

## Terminal-Bench：命令列介面中 AI 智能體的基準測試

Terminal-Bench 是一個新穎的評估框架，旨在評估 AI 智能體在命令列介面內執行複雜任務的熟練程度。終端被確定為 AI 智能體操作的最佳環境，因為其基於文字的沙盒特性。初始版本 Terminal-Bench-Core-v0 包含 80 個手動策劃的任務，涵蓋科學工作流程和資料分析等領域。為確保公平比較，開發了 Terminus，一個極簡智能體，作為各種大語言模型的標準化測試平台。該框架設計為可擴展的，允許通過容器化或直接連接整合不同的智能體。未來發展包括啟用大規模並行評估和納入已建立的基準測試。該專案鼓勵開源貢獻以進行任務擴展和協作框架增強。

## 結論

這些強大的 AI 命令列智能體的出現標誌著軟體開發的根本轉變，將終端轉變為動態且協作的環境。如我們所見，沒有單一的「最佳」工具；相反，正在形成一個充滿活力的生態系統，其中每個智能體都提供專門的優勢。理想的選擇完全取決於開發者的需求：Claude 用於複雜的架構任務，Gemini 用於多功能和多模態問題解決，Aider 用於以 git 為中心的直接程式碼編輯，GitHub Copilot 用於與 GitHub 工作流程的無縫整合。隨著這些工具的持續演進，利用它們的熟練程度將成為基本技能，根本性地改變開發者建置、除錯和管理軟體的方式。

## 參考文獻

1. Anthropic. *Claude*. [https://docs.anthropic.com/en/docs/claude-code/cli-reference](https://docs.anthropic.com/en/docs/claude-code/cli-reference)
2. Google Gemini Cli [https://github.com/google-gemini/gemini-cli](https://github.com/google-gemini/gemini-cli)
3. Aider. [https://aider.chat/](https://aider.chat/)  
4. GitHub *Copilot CLI* [https://docs.github.com/en/copilot/github-copilot-enterprise/copilot-cli](https://docs.github.com/en/copilot/github-copilot-enterprise/copilot-cli)  
5. Terminal Bench: [https://www.tbench.ai/](https://www.tbench.ai/)